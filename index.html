<!DOCTYPE html>
<html xml:lang>
<head>
    <title>Wishtree</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="libraries/detectmobilebrowser.js"></script>
    <script src="libraries/p5.min.js"></script>
    <script src="js/text.js"></script>

    <script src="main.js"></script>
    
    <script src="animations/scrollMagicAnimation.js"></script> <!--애니메이션 파일을 불러오는 순서는 반드시 플러그인 이후여야 함-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>



    <link rel="stylesheet" hef="style.css">
    <script>
        console.log(jQuery.browser.mobile);
        console.log(location.href);
        if(jQuery.browser.mobile == true){
            console.log(location.href);
            location.href = "m/";
        }
    </script>

    <!-- start custom head snippets -->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/favicon.ico/apple-icon-57x57.png?">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/favicon.ico/apple-icon-60x60.png?">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/favicon.ico/apple-icon-72x72.png?">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/favicon.ico/apple-icon-76x76.png?">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/favicon.ico/apple-icon-114x114.png?">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/favicon.ico/apple-icon-120x120.png?">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/favicon.ico/apple-icon-144x144.png?">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/favicon.ico/apple-icon-152x152.png?">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon.ico/apple-icon-180x180.png?">
    <link rel="icon" type="image/png?" sizes="192x192" href="assets/favicon.ico/android-icon-192x192.png?">
    <link rel="icon" type="image/png?" sizes="32x32" href="assets/favicon.ico/favicon-32x32.png?">
    <link rel="icon" type="image/png?" sizes="96x96" href="assets/favicon.ico/favicon-96x96.png?">
    <link rel="icon" type="image/png?" sizes="16x16" href="assets/favicon.ico/favicon-16x16.png?">
    <link rel="manifest" href="assets/favicon.ico/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="assets/favicon.ico/ms-icon-144x144.png?">
    <meta name="theme-color" content="#ffffff">
    <!-- end custom head snippets -->

    <script>
        var Scrollbar = window.Scrollbar;
        Scrollbar.init(document.body, {
            damping: 0.01,
            renderByPixels: true,
            alwaysShowTracks: true
        });
    </script>
    
    <link rel="stylesheet" type="text/css" href="style.css">

    <script type="text/javascript">
        var omitformtags=["input", "textarea", "select"]
        omitformtags=omitformtags.join("|")
        function disableselect(e){
            if (omitformtags.indexOf(e.target.tagName.toLowerCase())==-1)
            return false
        }
        function reEnable(){
        return true
        }
        if (typeof document.onselectstart!="undefined")
            document.onselectstart=new Function ("return false")
        else{
            document.onmousedown=disableselect
            document.onmouseup=reEnable
        }
    </script>

    <!-- <script type="text/javascript">
        var scrollTopVal = document.querySelector('html').scrollTop;
    </script> -->
</head>



<body oncontextmenu='return false' ondragstart='return false' onselectstart='return false'>  

    <!-- hamburger menu -->
    <script type="text/javascript">
        $(document).ready(function(){
            $('.icon').click(function(){
                $('.icon').toggleClass('active');
            })
        })
    </script>

    <input type="checkbox" id="menuicon">
    <label for="menuicon">
        <span></span>
        <span></span>
        <span></span>
    </label>

    <div class="sidebar_content">
        <ul>
            <li class="with_margin" style="margin-top: 3px;"><a></a></li>
            <li><a>  웹아트</a></li>
            <li><a>  작가의 말</a></li>
            <li><a>  등장인물 소개</a></li>
            <li><a>  개발자 프로필</a></li>
        </ul>
        <label for="sidebar"></label>
    </div>       
    <label for="sidebar" class="background"></label>
    <!-- -------------------hamburger menu end-------------------  -->

    <div style="top: 3000px;">
        <video src="assets/video/rain.webm" muted autoplay loop style="top: 3200px; width: 1000px; 
        z-index: -1; position: absolute; left: 50%;"></video>
    </div>
    
    <!-- loading screen -->
    <!-- <video src="assets/loading.webm" autoplay style="z-index: 10001;"></video>
    <img id="loadingicon" src="assets/UI/loadingicon.svg"></img>
    <div class="loadingwhite"></div>
    <p id="loadingtext">크롬 브라우저와 전체화면을 권장합니다<br>아래로 스크롤하며 감상하세요!</p>
    <script>
        $(document).ready(function(){
            setTimeout(function(){
                $('#loadingicon').delay(2500).fadeOut(500);
                $('.loadingwhite').delay(2500).fadeOut(500);
                $('#loadingtext').delay(2500).fadeOut(500);
            })
        });
    </script> -->
    <!-- loading screen end -->


    <!-- positions of all triggers -->
    <div id="trigger_hide_verytoplogo">trigger_hide_verytoplogo</div>
    <!-- triggers end -->

    <!-- video player -->
    <video id="myHTMLvideo" src="assets/surprised_eye_2.webm" mute paused style="position:fixed; top:500px; left:50%; transform:translateX(-50%); z-index: 100;"></video>
    <script type="text/javascript">
        var vidZone = {
            start: 1000,
            end: 2000
        }
        let vidVisit = false;
        $(window).scroll(function () { // 방문 시 한 번만 플레이하는 코드
            var scrollTopVal = $(document).scrollTop();
            var vid1 = $("#myHTMLvideo").get(0);
            if((scrollTopVal > vidZone.start && scrollTopVal < vidZone.end) && vidVisit == false){
                vidVisit = true;
                $("#myHTMLvideo").get(0).play();
            } else {
                vidVisit = false;
            }
        })
    </script>
    <!-- eye surprise test end -->

    <div id="verytoplogo">
        <img src="assets/very_top_logo.png" style="width:600px;" alt="assets/error.jpg">
    </div>
    <div id="parallax_cover">
        <img src="assets/parallax_cover.png" alt="assets/error.jpg">
    </div>

    <div id="first_scene">
        <img src="scene/SCENE_1.png" alt="assets/error.jpg">
        <img id="first_scene_textbox" src="scene/SCENE_1_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="second_scene">
        <img src="scene/SCENE_2.png" width=1000px alt="assets/error.jpg">
        <img id="second_scene_textbox" src="scene/SCENE_2_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="third_scene">
        <div style="position: absolute;  left: -270px; z-index: 2;">
            <textarea id="wishtext"
                rows="7"
                maxlength="108"
                onkeydown="limitTextareaLine(event)"
                required="1"
                placeholder="당신의 소망을 입력하세요";
                wrap="hard"
                style="
                    position: absolute; top: 45px; left: 100px;
                    border:none; border-right:0px; border-top:0px; border-left:0px; border-bottom:0px;
                    width: 350px;
                    resize: none;
                    height: 320px;
                    background-color: transparent;
                "
            ></textarea>
            <img src="assets/textarea.png" alt="error.jpg">
        </div>
        <button onclick="inputButton()" style="width: 100px; height: 50px; position: absolute; top: 500px; transform: translate(-50%, 0%); z-index: 2; cursor:pointer;">소망 걸기</button>
        <!-------------------- text area end ---------------------------->
        <!-- prevent scroll -->
        <script type="text/javascript">
            $(window).scroll(function () { 
                if(isTextExist == false){
                    var scrollValue = $(document).scrollTop(); 
                    if(scrollValue > 5400){
                        alert('소망을 적어주셔야 해요!');
                        window.scrollTo({
                            left: 0, 
                            top: 4700 //소망 있는 곳으로
                        });
                    }
                }
            });
        </script> 
        <!-- prevent scroll end -->
    </div> <!-----------------------------------------third scene end------------------------------------------->

    <div id="fourth_scene">
        <img id="fourth_scene_left_tree" src="scene/SCENE_4_LEFTSIDE_TREE.png" alt="assets/error.jpg">
        <img id="fourth_scene_top_textbox" src="scene/SCENE_4_TOP_TEXTBOX.png" alt="assets/error.jpg">
        <img id="fourth_scene_bottom_textbox" src="scene/SCENE_4_BOTTOM_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="fifth_scene">
        <img id="fifth_scene_right_post"src="scene/SCENE_5_RIGHTSIDE_POST.png" width=400px; alt="assets/error.jpg">
        <img id="fifth_scene_textbox" src="scene/SCENE_5_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="sixth_scene">
        <img src="scene/SCENE_6.png" alt="assets/error.jpg">
        <img id="sixth_scene_textbox" src="scene/SCENE_6_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="seventh_scene">
        <img id="seventh_scene_textbox" src="scene/SCENE_7_TEXTBOX.png" alt="assets/error.jpg">
        <img id="seventh_scene_sketch" src="scene/SCENE_7.png" alt="assets/error.jpg">
    </div>

    <div id="eighth_scene">
        <img id="eighth_scene_textbox" src="scene/SCENE_8_TEXTBOX.png" alt="assets/error.jpg">
        <img src="scene/SCENE_8.png" alt="assets/error.jpg">
    </div>

    <div id="ninth_scene">
        <img src="scene/SCENE_9.png" alt="assets/error.jpg">
        <img id="ninth_scene_textbox" src="scene/SCENE_9_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="tenth_scene">
        <img src="scene/SCENE_10.png" alt="assets/error.jpg">
        <img id="tenth_scene_parallax" src="scene/SCENE_10_PARALLAX.png" alt="assets/error.jpg">
        <img id="tenth_scene_textbox" src="scene/SCENE_10_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="eleventh_scene">
        <img src="scene/SCENE_11.png" alt="assets/error.jpg">
        <img id="eleventh_scene_textbox" src="scene/SCENE_11_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="twelfth_scene">
        <img src="scene/SCENE_12.png"width="800px" alt="assets/error.jpg">
        <img id="twelfth_scene_top_textbox" src="scene/SCENE_12_TOP_TEXTBOX.png" alt="assets/error.jpg">
        <img id="twelfth_scene_bottom_textbox" src="scene/SCENE_12_BOTTOM_TEXTBOX.png" alt="assets/error.jpg">
    </div>

    <div id="disqus_thread">
        <script>
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://wishtree.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
    </div>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</body>
</html>